(this["webpackJsonpfood-ordering"]=this["webpackJsonpfood-ordering"]||[]).push([[0],{123:function(e,a,t){e.exports=t.p+"static/media/cross.441d8611.svg"},264:function(e,a,t){},268:function(e,a,t){e.exports=t.p+"static/media/plus.311313cd.svg"},269:function(e,a,t){e.exports=t.p+"static/media/cart.890dce60.svg"},270:function(e,a,t){e.exports=t.p+"static/media/fobiden-order.6b4b70dc.svg"},283:function(e,a,t){e.exports=t.p+"static/media/congrats.211b8e65.svg"},284:function(e,a,t){e.exports=t.p+"static/media/checklist.80d775c4.svg"},291:function(e,a,t){e.exports=t.p+"static/media/logo.913ae04a.svg"},297:function(e,a,t){e.exports=t(592)},539:function(e,a,t){},540:function(e,a,t){},541:function(e,a,t){},574:function(e,a,t){},59:function(e,a,t){e.exports=t.p+"static/media/loading.546dec86.svg"},590:function(e,a,t){},592:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(12),s=t.n(c),i=t(98),l=t(16),u=t(4),o=t(11),d=t.n(o),m=t(21),E=t(2),p=t(267),O=t.n(p)()({menu:[function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(a.type){case"GET_MENU_LOADING":return Object(E.a)(Object(E.a)({},e),{},{isLoading:!0,menuList:[],getMenuFail:null});case"GET_MENU_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{isLoading:!1,menuList:a.payload,getMenuFail:null});case"GET_MENU_FAIL":return Object(E.a)(Object(E.a)({},e),{},{isLoading:!1,menuList:[],getMenuFail:a.payload.message});default:return e}},{menuList:[],isLoading:!1,getMenuFail:null}],users:[function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(a.type){case"GET_CUR_USER_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{user:a.payload,getUserFail:null});case"GET_CUR_USER_FAIL":return Object(E.a)(Object(E.a)({},e),{},{user:{},getUserFail:a.payload.message});case"GET_USERS_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{users:a.payload,getUserFail:null});case"GET_USERS_FAIL":return Object(E.a)(Object(E.a)({},e),{},{users:[],getUserFail:a.payload.message});default:return e}},{user:{},users:[],userFail:null}],cart:[function(e,a){switch(a.type){case"ADD_CART_ITEM":return Object(E.a)(Object(E.a)({},e),{},{cartList:a.payload,isAnimateCart:!0,isCartAdded:!0});case"REMOVE_CART_ADDED":return Object(E.a)(Object(E.a)({},e),{},{isCartAdded:!0,isAnimateCart:!1});case"DELETE_CART_ITEM":var t=e.cartList,n=a.payload;return Object(E.a)(Object(E.a)({},e),{},{cartList:t.filter((function(e){return e.id!==n.id})),isAnimateCart:!0,isCartAdded:!1});case"DELETE_CART":return Object(E.a)(Object(E.a)({},e),{},{cartList:[],isAnimateCart:!1,isCartAdded:!1});default:return e}},{cartList:[],isAnimateCart:!1,isCartAdded:!1}],submitOrder:[function(e,a){switch(a.type){case"SUBMIT_ORDERS_REQUEST":return Object(E.a)(Object(E.a)({},e),{},{createOrderSuccess:!1,isLoading:!0,submitOrderFail:null});case"SUBMIT_ORDERS_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{createOrderSuccess:!0,isLoading:!1,submitOrderFail:null});case"SUBMIT_ORDERS_FAIL":return Object(E.a)(Object(E.a)({},e),{},{createOrderSuccess:!1,isLoading:!1,submitOrderFail:a.payload});default:return e}},{createOrderSuccess:!1,isLoading:!1,submitOrderFail:null}],orders:[function(e,a){switch(a.type){case"GET_ORDERS_REQUEST":return Object(E.a)(Object(E.a)({},e),{},{isOrdersLoading:!0,orderList:[],getOrdersFail:null,deleteOrderRequest:!1,deleteOrderFail:null});case"GET_ORDERS_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{isOrdersLoading:!1,orderList:a.payload,getOrdersFail:null,deleteOrderRequest:!1,deleteOrderFail:null});case"GET_ORDERS_FAIL":return Object(E.a)(Object(E.a)({},e),{},{isOrdersLoading:!1,orderList:[],getOrdersFail:a.payload.message,deleteOrderRequest:!1,deleteOrderFail:null});case"DELETE_ORDER_REQUEST":return Object(E.a)(Object(E.a)({},e),{},{isOrdersLoading:!1,getOrdersFail:null,deleteOrderRequest:!0,deleteOrderFail:null});case"DELETE_ORDER_SUCCESS":var t=a.payload,n=e.orderList;return Object(E.a)(Object(E.a)({},e),{},{isOrdersLoading:!1,orderList:n.filter((function(e){return e._id!==t._id})),getOrdersFail:null,deleteOrderRequest:!1,deleteOrderFail:null});case"DELETE_ORDER_FAIL":return Object(E.a)(Object(E.a)({},e),{},{isOrdersLoading:!1,orderList:[],getOrdersFail:null,deleteOrderRequest:!1,deleteOrderFail:a.payload.message});default:return e}},{orderList:[],isOrdersLoading:!1,getOrdersFail:null,deleteOrderRequest:!1,deleteOrderFail:null}],orderTimeout:[function(e,a){switch(a.type){case"SET_ORDER_TIMEOUT":return Object(E.a)(Object(E.a)({},e),{},{isOrderTimeout:!0});case"RESET_ORDER_TIMEOUT":return Object(E.a)(Object(E.a)({},e),{},{isOrderTimeout:!1});default:return e}},{isOrderTimeout:!1}],allOrders:[function(e,a){switch(a.type){case"GET_ALL_ORDERS_REQUEST":return Object(E.a)(Object(E.a)({},e),{},{isLoading:!0,allOrderList:[],getOrdersFail:null});case"GET_ALL_ORDERS_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{isLoading:!1,allOrderList:a.payload,getOrdersFail:null});case"GET_ALL_ORDERS_FAIL":return Object(E.a)(Object(E.a)({},e),{},{isLoading:!1,allOrderList:[],getOrdersFail:a.payload.message});default:return e}},{allOrderList:[],isLoading:!1,getOrdersFail:null}],checkPaid:[function(e,a){switch(a.type){case"CHECK_PAID_REQUEST":return Object(E.a)(Object(E.a)({},e),{},{isPaidLoading:!0,isPaidSuccess:!1,checkPaidFail:null});case"CHECK_PAID_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{isPaidLoading:!1,isPaidSuccess:!0,checkPaidFail:null});case"CHECK_PAID_FAIL":return Object(E.a)(Object(E.a)({},e),{},{isPaidLoading:!1,isPaidSuccess:!1,checkPaidFail:a.payload});case"CHECK_PROVIDER_PAID_REQUEST":return Object(E.a)(Object(E.a)({},e),{},{isPaidLoading:!0,isPaidSuccess:!1,checkPaidFail:null});case"CHECK_PROVIDER_PAID_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{isPaidLoading:!1,isPaidSuccess:!0,checkPaidFail:null});case"CHECK_PROVIDER_PAID_FAIL":return Object(E.a)(Object(E.a)({},e),{},{isPaidLoading:!1,isPaidSuccess:!1,checkPaidFail:a.payload});default:return e}},{isPaidLoading:!1,isPaidSuccess:!1,checkPaidFail:null}]}),f=Object(u.a)(O,2),g=f[0],b=f[1],h=r.a.createContext({}),v=function(e){var a=e.children,t=Object(n.useReducer)(g,b),c=Object(u.a)(t,2),s=c[0],i=c[1];return r.a.createElement(h.Provider,{value:{data:s,setData:i}},a)},_=function(){var e=Object(n.useContext)(h),a=e.data,t=e.setData;return[a,Object(n.useCallback)((function(e){var a=e.type,n=e.payload;t({payload:n,type:a})}),[t])]},S=function(e){return{type:"GET_MENU_SUCCESS",payload:e}},j=t(23),y=t.n(j);console.log("production");var C="https://luch-ordering.herokuapp.com",R="https://luch-ordering.herokuapp.com/google",L=function(){var e=localStorage.getItem("token");return y.a.get("".concat(C,"/users/current"),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return e.data}))},k=t(59),T=t.n(k),N=(t(539),t(293)),D=t(8),A=t.n(D),I=t(268),F=t.n(I),w=function(e){return{type:"ADD_CART_ITEM",payload:e}},P=function(e){var a=e.item,t=Object(n.useState)(1),c=Object(u.a)(t,2),s=c[0],i=c[1],l=_(),o=Object(u.a)(l,2),d=o[0],m=d.users,E=d.cart,p=d.orderTimeout,O=o[1],f=m.user,g=E.cartList;return r.a.createElement("div",{className:A()("menu-item",{"is-disabled":g.some((function(e){return e.id===a._id}))||p.isOrderTimeout})},r.a.createElement("div",{className:"image"},r.a.createElement("img",{className:"img-dish",src:a.img,alt:a.name}),r.a.createElement("div",{onClick:function(){var e={id:a._id,dish_name:a.name,quantity:s};if(f.username)if(0===g.length)O(w(g)),setTimeout((function(){return O({type:"REMOVE_CART_ADDED"})}),500),g.push(e);else{var t=[].concat(Object(N.a)(g),[e]);O(w(t)),setTimeout((function(){return O({type:"REMOVE_CART_ADDED"})}),500)}else window.open(R,"_self")}},r.a.createElement("img",{className:"icon-add",src:F.a,alt:""}))),r.a.createElement("div",{className:"desc"},r.a.createElement("div",{className:"info"},r.a.createElement("span",{className:"name"},a.name),r.a.createElement("span",{className:"price"},a.price)),r.a.createElement("div",{className:"quantity"},r.a.createElement("input",{type:"number",value:s,onChange:function(e){var a=e.target.value,t=parseInt(a);i(t<=0?1:t>5?5:t)}}))))},U=function(){var e=_(),a=Object(u.a)(e,2),t=a[0].menu,c=a[1],s=function(){var e=_(),a=Object(u.a)(e,2)[1];return Object(n.useCallback)(Object(m.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"GET_MENU_LOADING"}),e.prev=1,e.next=4,y.a.get("".concat(C,"/menuList")).then((function(e){return e.data}));case 4:t=e.sent,a(S(t)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a({type:"GET_MENU_FAIL",payload:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),[a])}(),i=t.isLoading,l=t.menuList;return Object(n.useEffect)((function(){(function(){var e=Object(m.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L();case 2:a=e.sent,localStorage.setItem("roles",a.roles),c({type:"GET_CUR_USER_SUCCESS",payload:a});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),s()}),[c,s]),r.a.createElement("div",{className:"menu-wrapper"},i&&r.a.createElement("img",{className:"icon-loading",src:T.a,alt:"loading-spinner"}),l.map((function(e){return r.a.createElement(P,{key:e._id,item:e})})))},x=t(123),M=t.n(x),G=function(e){var a=e.order,t=_(),n=Object(u.a)(t,2)[1];return r.a.createElement("div",{className:"cart-item"},r.a.createElement("div",{className:"name"},a.dish_name),r.a.createElement("div",{className:"desc"},r.a.createElement("div",{className:"qty"},a.quantity),r.a.createElement("span",{className:"remove",onClick:function(){n(function(e){return{type:"DELETE_CART_ITEM",payload:e}}(a))}},r.a.createElement("img",{src:M.a,alt:"remove-order"}))))},q=function(e){return{type:"SUBMIT_ORDERS_FAIL",payload:e}},B=function(e){return{type:"GET_ORDERS_SUCCESS",payload:e}},Q=function(e){return{type:"GET_ORDERS_FAIL",payload:e}},H=function(e){return{type:"GET_ALL_ORDERS_SUCCESS",payload:e}},K=function(e){return{type:"DELETE_ORDER_SUCCESS",payload:e.data}},z=function(e){var a=localStorage.getItem("token");return y.a.post("".concat(C,"/orders/create"),e,{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){return e.data}))},V=function(){var e=localStorage.getItem("token");return y.a.get("".concat(C,"/orders/list"),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return e.data}))},J=function(e){var a=localStorage.getItem("token");return y.a.post("".concat(C,"/orders/check-paid"),e,{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){return e.data}))},X=function(e){var a=localStorage.getItem("token");return y.a.post("".concat(C,"/orders/check-paid-provider"),e,{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){return e.data}))},Y=function(e){var a=localStorage.getItem("token");return y.a.post("".concat(C,"/orders/delete"),e,{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){return e.data}))},$=function(){var e=localStorage.getItem("token");return y.a.get("".concat(C,"/orders/payment"),{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){return e.data}))},W=t(269),Z=t.n(W),ee=(t(540),function(){var e=_(),a=Object(u.a)(e,1)[0],t=a.cart,c=a.submitOrder,s=t.cartList,i=t.isAnimateCart,l=t.isCartAdded,o=c.isLoading,E=Object(n.useState)(!1),p=Object(u.a)(E,2),O=p[0],f=p[1],g=function(){var e=_(),a=Object(u.a)(e,2)[1];return Object(n.useCallback)(function(){var e=Object(m.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"SUBMIT_ORDERS_REQUEST"}),e.prev=1,e.next=4,z(t);case 4:e.sent,a({type:"SUBMIT_ORDERS_SUCCESS"}),a({type:"DELETE_CART"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),a(q(e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(a){return e.apply(this,arguments)}}(),[a])}();Object(n.useEffect)((function(){l&&f(l)}),[l]);return r.a.createElement("div",{className:"cart-wrapper"},r.a.createElement("div",{className:A()("cart-icon",{shake:i}),onClick:function(){f(!O)}},r.a.createElement("img",{src:Z.a,alt:"cart-icon"}),r.a.createElement("span",{className:"cart-qty"},s.length)),r.a.createElement("div",{className:A()("cart-content",{show:O&&s.length})},o&&r.a.createElement("img",{className:"cart-loading",src:T.a,alt:""}),s.map((function(e){return r.a.createElement(G,{key:e.id,order:e})})),r.a.createElement("button",{className:"btn-order",onClick:function(){var e=s.map((function(e){return{dishId:e.id,quantity:e.quantity,date:(new Date).toDateString(),paid:!1}}));g(e)}},"Order")))}),ae=t(593),te=t(270),ne=t.n(te),re=(t(541),function(){var e=new Date,a=e.getFullYear(),t=e.getMonth(),c=e.getDate(),s=new Date(a,t,c,10,58,0,0).getTime(),i=new Date(a,t,c,8,30,0,0).getTime(),l=(new Date).getTime()>=i,o=Object(n.useState)({hours:0,minutes:0,seconds:0}),d=Object(u.a)(o,2),m=d[0],E=d[1],p=Object(n.useState)(s),O=Object(u.a)(p,1)[0],f=Object(n.useState)(!1),g=Object(u.a)(f,2),b=g[0],h=g[1],v=Object(n.useCallback)((function(){if(O){var e=(new Date).getTime(),a=O-e,t=Math.floor(a%36e5/6e4),n=Math.floor(a%6e4/1e3),r=[1,2,3,4,5,6,7,8,9],c=Math.floor(a%864e5/36e5);r.includes(c)&&(c="0".concat(c)),r.includes(t)&&(t="0".concat(t)),r.includes(n)&&(n="0".concat(n)),E({hours:c,minutes:t,seconds:n}),h(c<=0&&t<=0&&n<=0)}}),[O]);Object(n.useEffect)((function(){if(setInterval((function(){return v()}),1e3),b)return function(){return clearInterval(v)}}),[b,v]);var _=m.hours,S=m.minutes,j=m.seconds;return r.a.createElement("div",{className:"countdown"},_>=0&&S>=0&&j>0&&r.a.createElement("div",null,r.a.createElement("p",{className:"countdown-message"},"Th\u1eddi gian order c\u1ee7a b\u1ea1n c\xf2n l\u1ea1i"),r.a.createElement("span",null,_),r.a.createElement("span",null,S),r.a.createElement("span",null,j)),r.a.createElement(ae.a,{className:"timeout-modal",visible:b||!l,onCancel:function(){},width:"60vw",height:"60vh",footer:null},r.a.createElement("img",{className:"timeout-icon",src:ne.a,alt:"forbiden-order"}),b&&r.a.createElement("div",{className:"timeout-message"},"Th\u1eddi gian order c\u01a1m h\xf4m nay \u0111\xe3 h\u1ebft, b\u1ea1n vui l\xf2ng quay l\u1ea1i v\xe0o l\xfac"," ",r.a.createElement("span",{className:"note"},"8h00")," ng\xe0y mai nh\xe9!!!"),!l&&r.a.createElement("div",{className:"timeout-message"},"Th\u1eddi gian order ch\u01b0a t\u1edbi, b\u1ea1n vui l\xf2ng quay l\u1ea1i v\xe0o l\xfac"," ",r.a.createElement("span",{className:"note"},"8h00")," nh\xe9!!!")))}),ce=t(283),se=t.n(ce),ie=t(284),le=t.n(ie),ue=(t(573),t(101)),oe=(t(574),function(){var e=_(),a=Object(u.a)(e,1)[0].submitOrder.createOrderSuccess,t=Object(n.useState)(a),c=Object(u.a)(t,2),s=c[0],i=c[1],o=Object(l.g)(),d="admin"===localStorage.getItem("roles");Object(n.useEffect)((function(){a&&i(a)}),[a]);var m=function(){i(!1)};return r.a.createElement("div",{className:"page"},r.a.createElement("h1",{className:"text-uppercase text-center"},"SP Team Lunch Ordering"),!d&&r.a.createElement(re,null),r.a.createElement("a",{href:"/lunch-ordering-fe/#/orders",className:"icon-orders"},r.a.createElement("img",{src:le.a,alt:"checklist"})),r.a.createElement(ee,null),r.a.createElement(U,null),r.a.createElement(ae.a,{className:"congrats-modal",visible:s,onCancel:m,width:"60vw",height:"60vh",footer:[r.a.createElement(ue.a,{size:"large",key:"back",onClick:m},"\u0110\xf3ng"),r.a.createElement(ue.a,{key:"submit",size:"large",type:"primary",onClick:function(){o.push("/orders")}},"Xem Order")]},r.a.createElement("img",{className:"modal-icon",src:se.a,alt:"forbiden-order"}),r.a.createElement("div",{className:"congrats-message"},"Thank you! B\u1ea1n \u0111\xe3 order th\xe0nh c\xf4ng!!",r.a.createElement("p",null,"Ch\xfac Ngon mi\u1ec7ng"))))}),de=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],me=setInterval((function(e,a,t){new Date(e,a,t,13,45,0,0).getTime()-(new Date).getTime()<0&&clearInterval(me)}),1e3),Ee=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return e.reduce((function(e,n){var r=n[a];return"object"===typeof r&&t?(e[r[t]]=e[r[t]]||[],e[r[t]].push(n)):(e[r]=e[r]||[],e[r].push(n)),e}),{})},pe=function(){var e=_(),a=Object(u.a)(e,2)[1];return{checkPaidOrder:Object(n.useCallback)(function(){var e=Object(m.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"CHECK_PAID_REQUEST"}),e.prev=1,e.next=4,J(t);case 4:a({type:"CHECK_PAID_SUCCESS"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),a({type:"CHECK_PAID_FAIL",payload:e.t0});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(a){return e.apply(this,arguments)}}(),[a]),checkProviderPaidOrder:Object(n.useCallback)(function(){var e=Object(m.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"CHECK_PROVIDER_PAID_REQUEST"}),e.prev=1,e.next=4,X(t);case 4:a({type:"CHECK_PROVIDER_PAID_SUCCESS"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),a({type:"CHECK_PROVIDER_PAID_FAIL",payload:e.t0});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(a){return e.apply(this,arguments)}}(),[a])}},Oe=function(e){var a=e.order,t=e.isAdmin,c=e.isAllOrders,s=Object(n.useState)(a.paid),i=Object(u.a)(s,2),l=i[0],o=i[1],E=pe().checkPaidOrder,p=_(),O=Object(u.a)(p,1)[0].checkPaid.isPaidLoading,f=a.quantity,g=a.dish,b=g.name,h=g.price,v=a.user.username,S=a.date,j=_(),y=Object(u.a)(j,1)[0].orders.deleteOrderRequest,C=Object(n.useState)(!1),R=Object(u.a)(C,2),L=R[0],k=R[1],T=function(){var e=_(),a=Object(u.a)(e,2),t=a[0].allOrders.orderList,r=a[1];return Object(n.useCallback)(function(){var e=Object(m.a)(d.a.mark((function e(a){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:"DELETE_ORDER_REQUEST"}),e.prev=1,e.next=4,Y(a);case 4:n=e.sent,r(K(n)),c=t.filter((function(e){return e._id!==n.data._id})),r(H(c)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),r({type:"DELETE_ORDER_FAIL",payload:e.t0});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(a){return e.apply(this,arguments)}}(),[r,t])}(),N=function(){return k(!1)};return r.a.createElement("div",{key:a._id,className:"order-item"},r.a.createElement("span",{className:"name"},v),r.a.createElement("span",{className:"quantity"},f),r.a.createElement("span",{className:"dish-name"},b),!c&&r.a.createElement("span",{className:"date"},function(e){if(e){var a=new Date(e),t=a.getDate(),n=a.getMonth(),r=de[n],c=a.getFullYear();return"".concat(t," ").concat(r," ").concat(c)}}(S)),r.a.createElement("span",{className:"price"},"".concat(parseInt(h.slice(0,2))*f,",000\u0111")),t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"paid"},r.a.createElement("span",{className:"order-checkbox"},r.a.createElement("input",{type:"checkbox",onChange:function(e){var t=e.target.checked;E({id:a._id,isPaid:t}),o(t)},checked:l,disabled:O}),r.a.createElement("span",{className:A()("check-mask",{"is-disabled":O})}))),r.a.createElement("span",{className:"delete",onClick:function(){return k(!0)}},r.a.createElement("img",{src:M.a,alt:"delete-order"}))),r.a.createElement(ae.a,{className:"order-item__modal",visible:L,onCancel:N,footer:[r.a.createElement(ue.a,{size:"large",key:"back",onClick:N},"\u0110\xf3ng"),r.a.createElement(ue.a,{key:"submit",size:"large",type:"primary",loading:y,onClick:function(){T(a)}},"Xo\xe1")]},r.a.createElement("p",null,"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n xo\xe1 ch\u1ee9???")))},fe=(t(264),function(){var e=_(),a=Object(u.a)(e,2),t=a[0].orders,c=t.orderList,s=t.isOrdersLoading,i=a[1],l="admin"===localStorage.getItem("roles");Object(n.useEffect)((function(){(function(){var e=Object(m.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i({type:"GET_ORDERS_REQUEST"}),e.prev=1,e.next=4,V();case 4:a=e.sent,i(B(a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),i(Q(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}})()()}),[i]);c.sort((function(e,a){return e.dish.name.localeCompare(a.name)}));var o=c.map((function(e){return{quantity:e.quantity,dishName:e.dish.name,price:35}})),E=Ee(o,"dishName"),p=Object.keys(E).map((function(e){return{name:e,qty:E[e].reduce((function(e,a){return e+a.quantity}),0),price:E[e].reduce((function(e,a){return e+a.price*a.quantity}),0)}})),O=p.reduce((function(e,a){return e+a.qty}),0),f=p.reduce((function(e,a){return e+a.price}),0);return r.a.createElement("div",{className:"page"},r.a.createElement("div",{className:"order-wrapper"},r.a.createElement("h1",{className:"order-title"},"Orders List"),s&&r.a.createElement("img",{className:"icon-loading",src:T.a,alt:"loading-spinner"}),0!==c.length&&r.a.createElement("div",{className:"order-total"},r.a.createElement("h3",{className:"title"},"Total List"),r.a.createElement("div",{className:"header"},r.a.createElement("span",null,"T\xean m\xf3n"),r.a.createElement("span",null,"S\u1ed1 L\u01b0\u1ee3ng"),r.a.createElement("span",null,"Gi\xe1")),p.map((function(e){return r.a.createElement("div",{key:e.name,className:"item"},r.a.createElement("span",null,e.name),r.a.createElement("span",null,e.qty),r.a.createElement("span",null,"".concat(e.price,".000\u0111")))})),r.a.createElement("div",{className:"total"},r.a.createElement("span",null,"T\u1ed5ng c\u1ed9ng"),r.a.createElement("span",null,O),r.a.createElement("span",null,"".concat(f,".000\u0111")))),0!==c.length&&r.a.createElement("div",{className:"order-content"},r.a.createElement("div",{className:"order-item__title"},r.a.createElement("span",null,"Ng\u01b0\u1eddi Order"),r.a.createElement("span",null,"S\u1ed1 L\u01b0\u1ee3ng"),r.a.createElement("span",{className:"dish-name"},"T\xean M\xf3n"),r.a.createElement("span",null,"Ng\xe0y Order"),r.a.createElement("span",null,"Gi\xe1"),l&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"paid"},"Paid"),r.a.createElement("span",{className:"delete"}))),c.map((function(e){return r.a.createElement(Oe,{key:e._id,order:e,isAdmin:l})})))))}),ge=function(e){var a=e.item,t=e.isAdmin,c=e.isAllOrders,s=Object(n.useState)(a.isPaid),i=Object(u.a)(s,2),l=i[0],o=i[1],d=pe().checkProviderPaidOrder,m=_(),E=Object(u.a)(m,1)[0].checkPaid.isPaidLoading;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"order-item__date-title",key:a._id},r.a.createElement("span",null,a.createdAt),r.a.createElement("div",{className:"paid-provider"},r.a.createElement("span",{className:"order-checkbox"},r.a.createElement("input",{type:"checkbox",onChange:function(e){var t=e.target.checked;d({id:a._id,isPaid:t}),o(t)},checked:l,disabled:E}),r.a.createElement("span",{className:A()("check-mask",{"is-disabled":E})})))),r.a.createElement("div",{className:"order-item__title"},r.a.createElement("span",null,"Ng\u01b0\u1eddi Order"),r.a.createElement("span",null,"S\u1ed1 L\u01b0\u1ee3ng"),r.a.createElement("span",null,"T\xean M\xf3n"),r.a.createElement("span",null,"Gi\xe1"),t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"paid"},"Paid"),r.a.createElement("span",{className:"delete"}))),a.orders.map((function(e){return r.a.createElement(Oe,{key:e._id,order:e,isAdmin:!0,isAllOrders:c})})))},be=t(595),he=function(){var e=_(),a=Object(u.a)(e,2),t=a[0].allOrders,c=t.allOrderList,s=t.isLoading,i=a[1],l=Object(n.useState)(!0),o=Object(u.a)(l,2),p=o[0],O=o[1],f="admin"===localStorage.getItem("roles"),g=c.map((function(e){return e.orders.map((function(e){return e}))})),b=[].concat.apply([],g).map((function(e){return Object(E.a)(Object(E.a)({},e),{},{username:e.user.username})})),h=Ee(b,"username");Object(n.useEffect)((function(){var e=function(){var e=Object(m.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i({type:"GET_ALL_ORDERS_REQUEST"}),e.prev=1,e.next=4,$();case 4:a=e.sent,i(H(a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),i({type:"GET_ALL_ORDERS_FAIL",payload:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();(function(){var e=Object(m.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i({type:"GET_ORDERS_REQUEST"}),e.prev=1,e.next=4,V();case 4:a=e.sent,i(B(a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),i(Q(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}})()(),e()}),[i]);return r.a.createElement("div",{className:"page"},r.a.createElement("div",{className:"order-wrapper"},r.a.createElement(be.a,{className:"btn-switch",defaultChecked:p,onChange:function(e){return O(e)}}),r.a.createElement("h1",{className:"order-title"},"All Orders List"),s&&r.a.createElement("img",{className:"icon-loading",src:T.a,alt:"loading-spinner"}),p&&0!==c.length&&c.map((function(e){return r.a.createElement(ge,{key:e._id,item:e,isAdmin:f,isAllOrders:!0})})),!p&&r.a.createElement("div",{className:"order-users"},Object.keys(h).map((function(e){var a=h[e];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"order-user__name"},r.a.createElement("span",null,e)),r.a.createElement("div",{className:"order-user__title"},r.a.createElement("span",null,"Ng\xe0y Order"),r.a.createElement("span",null,"S\u1ed1 L\u01b0\u1ee3ng"),r.a.createElement("span",null,"T\xean M\xf3n"),r.a.createElement("span",null,"Gi\xe1")),a.map((function(e){return r.a.createElement("div",{className:"order-user__item",key:e._id},r.a.createElement("span",null,e.date),r.a.createElement("span",null,e.quantity),r.a.createElement("span",null,e.dish.name),r.a.createElement("span",null,e.dish.price))})))})))))},ve=t(290),_e=t.n(ve),Se=function(e){var a=Object(l.h)().search,t=Object(l.g)(),n=_e.a.parse(a).token||localStorage.getItem("token");return n?(localStorage.setItem("token",n),t.push("/")):window.open(R,"_self"),r.a.createElement("div",null)},je=t(295),ye=function(e){var a=e.component,t=Object(je.a)(e,["component"]),n="admin"===localStorage.getItem("roles");return r.a.createElement(l.b,Object.assign({},t,{render:function(e){var t=e.location;return n?r.a.createElement(a,null):r.a.createElement(l.a,{to:{pathname:"/",state:{from:t}}})}}))},Ce=t(291),Re=t.n(Ce),Le=(t(590),t(591),t(266),function(){return r.a.createElement("div",{className:"main-wrapper"},r.a.createElement("div",{className:"container"},r.a.createElement("a",{href:"/lunch-ordering-fe",className:"main-logo"},r.a.createElement("img",{src:Re.a,alt:"logo"})),r.a.createElement(i.a,null,r.a.createElement(l.d,null,r.a.createElement(l.b,{exact:!0,path:"/"},r.a.createElement(oe,null)),r.a.createElement(l.b,{path:"/orders"},r.a.createElement(fe,null)),r.a.createElement(l.b,{path:"/login"},r.a.createElement(Se,null)),r.a.createElement(ye,{path:"/all-orders",component:he})))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(v,null,r.a.createElement(Le,null)),document.getElementById("root"))}},[[297,1,2]]]);
//# sourceMappingURL=main.a4520197.chunk.js.map